<HTML>
  <HEAD>
    <TITLE>Powered By Jetty</TITLE>
    <META http-equiv="Pragma" content="no-cache">
    <META http-equiv="Cache-Control" content="no-cache,no-store">
  </HEAD>
<BODY>
<A HREF="http://jetty.mortbay.org/jetty6"><IMG SRC="http://jetty.mortbay.org/jetty/images/jetty_banner.gif"></A>
<P>
<h1>Jetty 6 JNDI and Transactions</h1>

<p>
This example shows how to configure and lookup DataSources and a JTA transaction manager in JNDI, and how to perform a distributed transaction across
two different databases.
</p>

<h2>Preparation</h2>
<p>
Ensure that you are using the <code>etc/jetty-plus.xml</code> file on the runline:
</p>
<blockquote>
<pre>
  java -jar start.jar etc/jetty.xml etc/jetty-plus.xml
</pre>
</blockquote>
<p>
Download <a href="http://www.atomikos.com">Atomikos</a> and <a href="http://db.apache.org/derby/index.html">Derby</a> and copy their jar files to <code>lib</code>.
</p>

<p>
Click <code>Commit</code> to make a distributed update to 2 different databases, or <code>Rollback</code> to prevent the update from happening.
</p>
<form action="/jndi/test" method="post">
      <input type="radio" name="completion" value="commit" checked="true"> Commit<BR>
      <input type="radio" name="completion" value="rollback"> Rollback<BR>
      <P>
      <button type="submit">Completion</button>
</form>




</BODY>
</HTML>
