Index: pom.xml
===================================================================
--- pom.xml	(revision 601)
+++ pom.xml	(working copy)
@@ -158,6 +158,8 @@
     <module>modules/jetty</module>
     <module>modules/jsp-api-2.1</module>
     <module>modules/jsp-2.1</module>
+    <module>modules/glassfish-jasper-api</module>
+    <module>modules/glassfish-jasper</module>
     <module>modules/jsp-api-2.0</module>
     <module>modules/jsp-2.0</module>
     <module>modules/management</module>
Index: modules/start/src/main/java/org/mortbay/start/start.config
===================================================================
--- modules/start/src/main/java/org/mortbay/start/start.config	(revision 601)
+++ modules/start/src/main/java/org/mortbay/start/start.config	(working copy)
@@ -59,7 +59,8 @@
 $(jetty.home)/lib/*                              always
 
 # Set the classpath for the supporting cast               
-$(jetty.home)/lib/jsp-2.1/*                      java >= 1.5   
+$(jetty.home)/lib/glassfish-jsp-2.1/*            java >= 1.5   
+$(jetty.home)/lib/jsp-2.1/*                      ! available org.apache.jasper.servlet.JspServlet AND java >= 1.5   
 $(jetty.home)/lib/jsp-2.0/*                      ! available org.apache.jasper.servlet.JspServlet                
 $(jetty.home)/lib/management/*                  
 $(jetty.home)/lib/naming/*                              
@@ -71,3 +72,8 @@
 
 # Add a resources directory if it is there
 $(jetty.home)/resources/
+
+# Put tools.jar on the classpath
+$(java.home)/lib/tools.jar                       ! available com.sun.tools.javac.Main
+$(java.home)/../lib/tools.jar                    ! available com.sun.tools.javac.Main
+
Index: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/Log.java
===================================================================
--- modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/Log.java	(revision 0)
+++ modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/Log.java	(revision 0)
@@ -0,0 +1,85 @@
+/**
+ * 
+ */
+package com.sun.org.apache.commons.logging;
+
+import java.util.logging.Level;
+
+
+
+public class Log 
+{
+    public static void fatal (Object message)
+    {
+        org.mortbay.log.Log.warn(message.toString());
+    }
+    
+    public static void fatal (Object message, Throwable t)
+    {
+        org.mortbay.log.Log.warn(message.toString(), t);
+    }
+    
+    public static void debug(Object message)
+    {
+        org.mortbay.log.Log.debug(message.toString());
+    }
+    
+    public static void debug (Object message, Throwable t)
+    {
+        org.mortbay.log.Log.debug(message.toString(), t);
+    }
+    
+    public static void trace (Object message)
+    {
+        org.mortbay.log.Log.debug(message.toString());
+    }
+    
+  
+    public static void info(Object message)
+    {
+       org.mortbay.log.Log.info(message.toString());
+    }
+
+    public static void error(Object message)
+    {
+       org.mortbay.log.Log.warn(message.toString());
+    }
+    
+    public static void error(Object message, Throwable cause)
+    {
+        org.mortbay.log.Log.warn(message.toString(), cause);
+    }
+
+    public static void warn(Object message)
+    {
+        org.mortbay.log.Log.warn(message.toString());
+    }
+    
+    public static boolean isDebugEnabled ()
+    {
+        return org.mortbay.log.Log.isDebugEnabled();
+    }
+    
+    public static boolean isWarnEnabled ()
+    {
+        return org.mortbay.log.Log.isDebugEnabled();
+    }
+    
+    public static boolean isInfoEnabled ()
+    {
+        return true;
+    }
+    
+    
+    public static boolean isErrorEnabled ()
+    {
+        return true;
+    }
+    
+  
+    public static boolean isTraceEnabled ()
+    {
+        return org.mortbay.log.Log.isDebugEnabled();
+    }
+    
+}
\ No newline at end of file

Property changes on: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/Log.java
___________________________________________________________________
Name: svn:mime-type
   + text/plain
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogConfigurationException.java
===================================================================
--- modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogConfigurationException.java	(revision 0)
+++ modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogConfigurationException.java	(revision 0)
@@ -0,0 +1,50 @@
+/**
+ * 
+ */
+package com.sun.org.apache.commons.logging;
+
+/**
+ * @author janb
+ *
+ */
+public class LogConfigurationException extends Exception
+{
+
+    /**
+     * 
+     */
+    public LogConfigurationException()
+    {
+        super();
+        // TODO Auto-generated constructor stub
+    }
+
+    /**
+     * @param message
+     */
+    public LogConfigurationException(String message)
+    {
+        super(message);
+        // TODO Auto-generated constructor stub
+    }
+
+    /**
+     * @param message
+     * @param cause
+     */
+    public LogConfigurationException(String message, Throwable cause)
+    {
+        super(message, cause);
+        // TODO Auto-generated constructor stub
+    }
+
+    /**
+     * @param cause
+     */
+    public LogConfigurationException(Throwable cause)
+    {
+        super(cause);
+        // TODO Auto-generated constructor stub
+    }
+
+}

Property changes on: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogConfigurationException.java
___________________________________________________________________
Name: svn:mime-type
   + text/plain
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogFactory.java
===================================================================
--- modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogFactory.java	(revision 0)
+++ modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogFactory.java	(revision 0)
@@ -0,0 +1,26 @@
+/**
+ * 
+ */
+package com.sun.org.apache.commons.logging;
+
+import java.net.URLClassLoader;
+
+
+/**
+ * @author janb
+ *
+ */
+public class LogFactory
+{
+    private static final Log log = new Log();
+    
+    public static Log getLog (Class c)
+    {
+        return log;
+    }
+    
+    public static void release (URLClassLoader cl)
+    {
+        //noop;
+    }
+}

Property changes on: modules/glassfish-jasper/src/main/java/com/sun/org/apache/commons/logging/LogFactory.java
___________________________________________________________________
Name: svn:mime-type
   + text/plain
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper/pom.xml
===================================================================
--- modules/glassfish-jasper/pom.xml	(revision 0)
+++ modules/glassfish-jasper/pom.xml	(revision 0)
@@ -0,0 +1,135 @@
+<?xml version="1.0" encoding="UTF-8"?><project>
+  <parent>
+    <artifactId>project</artifactId>
+    <groupId>org.mortbay.jetty</groupId>
+    <version>6.0-SNAPSHOT</version>
+  </parent>
+  <modelVersion>4.0.0</modelVersion>
+  <artifactId>glassfish-jsp-2.1</artifactId>
+  <name>Glassfish Jasper</name>
+  <build>
+    <defaultGoal>install</defaultGoal>
+    <resources>
+      <resource>
+        <directory>src/main/resources</directory>
+      </resource>
+      <resource>
+        <directory>target/generated-sources/main/resources</directory>
+        <includes>
+          <includes>**/**</includes>
+        </includes>
+      </resource>
+    </resources>
+    <plugins>
+      <plugin>
+        <artifactId>maven-compiler-plugin</artifactId>
+        <configuration>
+          <source>1.5</source>
+          <target>1.5</target>
+        </configuration>
+      </plugin>
+      <plugin>
+        <artifactId>maven-antrun-plugin</artifactId>
+        <executions>
+          <execution>
+            <id>clean</id>
+            <phase>clean</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <delete failonerror="false" includeemptydirs="true">
+                  <fileset dir="../../lib/glassfish-jsp-2.1/">
+                    <include name="xercesImpl-${xerces-version}.jar"/>
+                    <include name="xmlParserAPIs-${xerces-version}.jar"/>
+                    <include name="ant-${ant-version}.jar"/>
+                    <include name="${project.artifactId}.jar"/>
+                  </fileset>
+                </delete>
+              </tasks>
+            </configuration>
+          </execution>
+          <execution>
+            <id>export</id>
+            <phase>generate-sources</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <ant target="export-update">
+                  <property name="glassfish.tag" value="${glassfish.version.tag}"/>
+                </ant>
+              </tasks>
+              <sourceRoot>${project.build.directory}/generated-sources/main/java</sourceRoot>
+            </configuration>
+          </execution>
+          <execution>
+            <id>copyjar</id>
+            <phase>install</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <copy failonerror="false" file="target/${project.artifactId}-${project.version}.${project.packaging}" tofile="../../lib/glassfish-jsp-2.1/${project.artifactId}.${project.packaging}"></copy>
+              </tasks>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+      <plugin>
+        <groupId>org.codehaus.mojo</groupId>
+        <artifactId>dependency-maven-plugin</artifactId>
+        <executions>
+          <execution>
+            <phase>install</phase>
+            <goals>
+              <goal>copy</goal>
+            </goals>
+            <configuration>
+              <artifactItems>
+                <artifactItem>
+                  <groupId>ant</groupId>
+                  <artifactId>ant</artifactId>
+                  <version>${ant-version}</version>
+                </artifactItem>
+                <artifactItem>
+                  <groupId>xerces</groupId>
+                  <artifactId>xmlParserAPIs</artifactId>
+                  <version>${xerces-version}</version>
+                </artifactItem>
+              </artifactItems>
+              <outputDirectory>${basedir}/../../lib/glassfish-jsp-2.1</outputDirectory>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+    </plugins>
+  </build>
+  <dependencies>
+    <dependency>
+      <groupId>org.mortbay.jetty</groupId>
+      <artifactId>servlet-api-2.5</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.mortbay.jetty</groupId>
+      <artifactId>jetty-util</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.mortbay.jetty</groupId>
+      <artifactId>glassfish-jsp-api-2.1</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>ant</groupId>
+      <artifactId>ant</artifactId>
+    </dependency>
+  </dependencies>
+    <properties>
+     <glassfish.version.tag>SJSAS90_FCS_BRANCH</glassfish.version.tag>
+  </properties>
+</project>

Property changes on: modules/glassfish-jasper/pom.xml
___________________________________________________________________
Name: svn:mime-type
   + text/xml
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper/README.txt
===================================================================
--- modules/glassfish-jasper/README.txt	(revision 0)
+++ modules/glassfish-jasper/README.txt	(revision 0)
@@ -0,0 +1,22 @@
+Building Jetty with glassfish jsp
+---------------------------------
+
+In order to build, you will need to follow these steps:
+
+1. Obtain a login at dev.java.net
+
+2. Login at least once to glassfish cvs so a .cvspass file is created in your home directory.
+   For example, if you are the user called "fred", you do:
+   cvs -d :pserver:fred@cvs.dev.java.net:/cvs login
+
+3. Create a build.properties file in the modules/glassfish-jasper directory.
+   This file will contain your dev.java.net login name and a cvs tag
+   which will be the tag of the glassfish source to export. Assuming you have
+   the login "fred", and the tag (for the first release of glassfish) of 
+   SJSAS90_FCS_BRANCH your build.properties file would contain:
+
+   glassfish.cvs.login=fred
+   glassfish.tag=SJSAS90_FCS_BRANCH
+
+4. Execute "mvn install" from the top level of the Jetty directory.
+

Property changes on: modules/glassfish-jasper/README.txt
___________________________________________________________________
Name: svn:mime-type
   + text/plain
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper/build.xml
===================================================================
--- modules/glassfish-jasper/build.xml	(revision 0)
+++ modules/glassfish-jasper/build.xml	(revision 0)
@@ -0,0 +1,94 @@
+<!-- ================================================================= -->
+<!-- Updates the glassfish files in jetty from glassfish cvs           -->
+<!-- NOTE: you must have a login for java.net and have used cvs login  -->
+<!-- at least once to login to glassfish and set up the .cvspass file. -->
+<!-- ================================================================= -->
+<project name="Glassfish Jasper" default="update" basedir=".">
+    <property file="build.properties" />
+    <property name="generated.srcs" value="target/generated-sources/main"/>
+    <property name="generated.java" value="${generated.srcs}/java"/>
+    <property name="generated.resources" value="${generated.srcs}/resources"/>
+
+    <!-- ============================================================== -->
+    <!-- Clean a previous export/checkout                               -->
+    <!-- ============================================================== -->
+     <target name="clean">
+       <delete dir="target/glassfish" quiet="true"/>
+     </target>
+
+    <!-- ============================================================== -->
+    <!-- Ceck if files already exported/checked out                     -->
+    <!-- ============================================================== -->
+    <target name="uptodate">
+      
+      <condition property="export.notrequired">
+        <and>
+          <available file="${generated.java}/org/apache/jasper/JspC.java" type="file" property="src.present"/>
+          <available file="${generated.resources}/org/apache/jasper/resources/messages.properties" type="file" property="resources.present"/>
+        </and>
+      </condition>
+    </target>
+
+    <!-- ============================================================== -->
+    <!-- Export the selected directories from glassfish                 -->
+    <!-- ============================================================== -->
+    <target name="export" description="Export src from glassfish" depends="uptodate" unless="export.notrequired">
+       <echo message="NOTE: You must have already performed a cvs login at least once to the glassfish cvs repo at cvs.dev.java.net."/>
+       <echo/>
+       <fail unless="glassfish.cvs.login"/>
+       <fail unless="glassfish.tag"/>
+       <property name="CVSROOT" value=":pserver:${glassfish.cvs.login}@cvs.dev.java.net:/cvs"/>
+       <cvs command="export -r ${glassfish.tag}" package="glassfish/appserv-webtier/src/java/" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+       <cvs command="export -r ${glassfish.tag}" package="glassfish/common-util/src/java/" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+   </target>
+
+    <!-- ============================================================== -->
+    <!-- Checkout the src from glassfish                                -->
+    <!-- ============================================================== -->
+    <target name="checkout" description="Checkout src from glassfish" depends="uptodate" unless="export.notrequired">
+       <echo message="NOTE: You must have already performed a cvs login at least once to the glassfish cvs repo at cvs.dev.java.net."/>
+       <echo/>
+       <fail unless="glassfish.cvs.login"/>
+       <property name="CVSROOT" value=":pserver:${glassfish.cvs.login}@cvs.dev.java.net:/cvs"/>
+       <cvs command="co" package="glassfish/appserv-webtier/src/java/" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+       <cvs command="co" package="glassfish/common-util/src/java/" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+   </target>
+
+
+    <!-- ============================================================== -->
+    <!-- Copy the required directories to src                           -->
+    <!-- ============================================================== -->
+   <target name="update" description="Copy selected exported glassfish files">
+     <copy todir="${generated.java}/com/sun/appserv">
+      <fileset dir="target/glassfish/common-util/src/java/com/sun/appserv">
+        <exclude name="**/CVS/*"/>
+      </fileset>
+     </copy>
+     <copy todir="${generated.java}/com/sun/common">
+      <fileset dir="target/glassfish/common-util/src/java/com/sun/common">
+        <exclude name="**/CVS/*"/>
+      </fileset>
+     </copy>
+    <copy todir="${generated.java}/com/sun/el">
+      <fileset dir="target/glassfish/appserv-webtier/src/java/com/sun/el">
+        <exclude name="**/CVS/*"/>
+      </fileset>
+    </copy>
+    <copy todir="${generated.java}/org/apache/jasper">
+      <fileset dir="target/glassfish/appserv-webtier/src/java/org/apache/jasper">
+        <exclude name="**/resources/*"/>
+        <exclude name="**/CVS/*"/>
+      </fileset>
+    </copy>
+    <copy todir="${generated.resources}/org/apache/jasper/resources">
+      <fileset dir="target/glassfish/appserv-webtier/src/java/org/apache/jasper/resources">
+        <exclude name="**/CVS/*"/>
+      </fileset>
+    </copy>
+   </target>
+
+    <!-- ============================================================== -->
+    <!-- Export the src and copy selected bits to src/main/             -->
+    <!-- ============================================================== -->
+  <target name="export-update" description="Export the src and copy selected files to the src/main/java dir" depends="export,update"/>
+</project>

Property changes on: modules/glassfish-jasper/build.xml
___________________________________________________________________
Name: svn:mime-type
   + text/xml
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper-api/pom.xml
===================================================================
--- modules/glassfish-jasper-api/pom.xml	(revision 0)
+++ modules/glassfish-jasper-api/pom.xml	(revision 0)
@@ -0,0 +1,88 @@
+<?xml version="1.0" encoding="UTF-8"?><project>
+  <parent>
+    <artifactId>project</artifactId>
+    <groupId>org.mortbay.jetty</groupId>
+    <version>6.0-SNAPSHOT</version>
+  </parent>
+  <modelVersion>4.0.0</modelVersion>
+  <artifactId>glassfish-jsp-api-2.1</artifactId>
+  <name>Glassfish Jasper API</name>
+  <build>
+    <defaultGoal>install</defaultGoal>
+    <resources>
+      <resource>
+        <directory>target/generated-sources/main/resources</directory>
+        <includes>
+          <include>**/**</include>
+        </includes>
+      </resource>
+    </resources>
+    <plugins>
+      <plugin>
+        <artifactId>maven-compiler-plugin</artifactId>
+        <configuration>
+          <source>1.5</source>
+          <target>1.5</target>
+        </configuration>
+      </plugin>
+      <plugin>
+        <artifactId>maven-antrun-plugin</artifactId>
+        <executions>
+          <execution>
+            <id>clean</id>
+            <phase>clean</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <delete failonerror="false" includeemptydirs="true">
+                  <fileset dir="../../lib/glassfish-jsp-2.1/">
+                    <include name="${project.artifactId}.jar"/>
+                  </fileset>
+                </delete>
+              </tasks>
+            </configuration>
+          </execution>
+          <execution>
+            <id>export</id>
+            <phase>generate-sources</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <ant target="export-update">
+                  <property name="glassfish.tag" value="${glassfish.version.tag}"/>
+                </ant>
+              </tasks>
+              <sourceRoot>${project.build.directory}/generated-sources/main/java</sourceRoot>
+            </configuration>
+          </execution>
+          <execution>
+            <id>copyjar</id>
+            <phase>install</phase>
+            <goals>
+              <goal>run</goal>
+            </goals>
+            <configuration>
+              <tasks>
+                <copy failonerror="false" file="target/${project.artifactId}-${project.version}.${project.packaging}" tofile="../../lib/glassfish-jsp-2.1/${project.artifactId}.${project.packaging}"></copy>
+              </tasks>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+    </plugins>
+  </build>
+  <dependencies>
+    <dependency>
+      <groupId>org.mortbay.jetty</groupId>
+      <artifactId>servlet-api-2.5</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+  </dependencies>
+    <properties>
+     <glassfish.version.tag>SJSAS90_FCS_BRANCH</glassfish.version.tag>
+  </properties>
+</project>

Property changes on: modules/glassfish-jasper-api/pom.xml
___________________________________________________________________
Name: svn:mime-type
   + text/xml
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper-api/README.txt
===================================================================
--- modules/glassfish-jasper-api/README.txt	(revision 0)
+++ modules/glassfish-jasper-api/README.txt	(revision 0)
@@ -0,0 +1,22 @@
+Building Jetty with glassfish jsp
+---------------------------------
+
+In order to build, you will need to follow these steps:
+
+1. Obtain a login at dev.java.net
+
+2. Login at least once to glassfish cvs so a .cvspass file is created in your home directory.
+   For example, if you are the user called "fred", you do:
+   cvs -d :pserver:fred@cvs.dev.java.net:/cvs login
+
+3. Create a build.properties file in the modules/glassfish-jasper-api directory.
+   This file will contain your dev.java.net login name and a cvs tag
+   which will be the tag of the glassfish source to export. Assuming you have
+   the login "fred", and the tag (for the first release of glassfish) of 
+   SJSAS90_FCS_BRANCH your build.properties file would contain:
+
+   glassfish.cvs.login=fred
+   glassfish.tag=SJSAS90_FCS_BRANCH
+
+4. Execute "mvn install" from the top level of the Jetty directory.
+

Property changes on: modules/glassfish-jasper-api/README.txt
___________________________________________________________________
Name: svn:mime-type
   + text/plain
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

Index: modules/glassfish-jasper-api/build.xml
===================================================================
--- modules/glassfish-jasper-api/build.xml	(revision 0)
+++ modules/glassfish-jasper-api/build.xml	(revision 0)
@@ -0,0 +1,81 @@
+<!-- ================================================================= -->
+<!-- Updates the glassfish files in jetty from glassfish cvs           -->
+<!-- NOTE: you must have a login for java.net and have used cvs login  -->
+<!-- at least once to login to glassfish and set up the .cvspass file. -->
+<!-- ================================================================= -->
+<project name="Glassfish Jasper" default="update" basedir=".">
+    <property file="build.properties" />
+    <property name="generated.srcs" value="target/generated-sources/main"/>
+    <property name="generated.java" value="${generated.srcs}/java"/>
+    <property name="generated.resources" value="${generated.srcs}/resources"/>
+
+    <!-- ============================================================== -->
+    <!-- Clean a previous export/checkout                               -->
+    <!-- ============================================================== -->
+     <target name="clean">
+       <delete dir="target/glassfish" quiet="true"/>
+     </target>
+
+    <!-- ============================================================== -->
+    <!-- Ceck if files already exported/checked out                     -->
+    <!-- ============================================================== -->
+    <target name="uptodate">
+      
+      <condition property="export.notrequired">
+          <available file="${generated.java}/javax/servlet/jsp/JspPage.java" type="file" property="src.present"/>
+      </condition>
+    </target>
+
+    <!-- ============================================================== -->
+    <!-- Export the selected directories from glassfish                 -->
+    <!-- ============================================================== -->
+    <target name="export" description="Export src from glassfish" depends="uptodate" unless="export.notrequired">
+       <echo message="NOTE: You must have already performed a cvs login at least once to the glassfish cvs repo at cvs.dev.java.net."/>
+       <echo/>
+       <fail unless="glassfish.cvs.login"/>
+       <fail unless="glassfish.tag"/>
+       <property name="CVSROOT" value=":pserver:${glassfish.cvs.login}@cvs.dev.java.net:/cvs"/>
+       <cvs command="export -r ${glassfish.tag}" package="glassfish/servlet-api/src/jsr245/src/share/" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+   </target>
+
+    <!-- ============================================================== -->
+    <!-- Checkout the src from glassfish                                -->
+    <!-- ============================================================== -->
+    <target name="checkout" description="Checkout src from glassfish" depends="uptodate" unless="export.notrequired">
+       <echo message="NOTE: You must have already performed a cvs login at least once to the glassfish cvs repo at cvs.dev.java.net."/>
+       <echo/>
+       <fail unless="glassfish.cvs.login"/>
+       <property name="CVSROOT" value=":pserver:${glassfish.cvs.login}@cvs.dev.java.net:/cvs"/>
+       <cvs command="co" package="glassfish/servlet-api/src/jsr245/src/share/javax" dest="target" cvsRoot="${CVSROOT}" failonerror="true" />
+   </target>
+
+
+    <!-- ============================================================== -->
+    <!-- Copy the required directories to src                           -->
+    <!-- ============================================================== -->
+   <target name="update" description="Copy selected exported glassfish files">
+     <copy todir="${generated.java}/javax">
+      <fileset dir="target/glassfish/servlet-api/src/jsr245/src/share/javax">
+        <exclude name="**/CVS/*"/>
+        <exclude name="**/*.properties"/>
+      </fileset>
+     </copy>
+
+    <copy todir="${generated.resources}/javax/servlet/jsp/resources">
+      <fileset dir="target/glassfish/servlet-api/src/jsr245/src/share/dtd">
+        <exclude name="**/CVS/*"/>
+      </fileset>
+    </copy>
+
+    <copy todir="${generated.resources}/javax">
+      <fileset dir="target/glassfish/servlet-api/src/jsr245/src/share/javax">
+        <include name="**/*.properties"/>
+      </fileset>
+    </copy>
+   </target>
+
+    <!-- ============================================================== -->
+    <!-- Export the src and copy selected bits to src/main/             -->
+    <!-- ============================================================== -->
+  <target name="export-update" description="Export the src and copy selected files to the src/main/java dir" depends="export,update"/>
+</project>

Property changes on: modules/glassfish-jasper-api/build.xml
___________________________________________________________________
Name: svn:mime-type
   + text/xml
Name: svn:keywords
   + Date Author Id Revision HeadURL
Name: svn:eol-style
   + native

